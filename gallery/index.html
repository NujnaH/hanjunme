---
layout: default
title: Gallery
---

<script src="/js/jquery.isotope.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<div class="container-fluid" style="padding-top:20px">
<div id="isotopeContainer" class="content" style="padding-top:100px">
    <div class="box cat cat0 cat1 cat2 cat3" onclick='categorize("*")'>
        <a class="thumbnail"><img src="/images/tile_thumb.jpg">
                <h3>All Categories</h3></a>
        </div>
<!-- BLUE MOUNTAIN PHOTOS -->
    <div class="box cat cat0 cat1 cat2 cat3" id="cat1" onclick='categorize("cat1")'>
        <a class="thumbnail"><img src="/images/tile_thumb.jpg">
                <h3>Blue Mountain</h3></a>
        </div>
    <div class="box cat1">
        <a href="#myModal" class="thumbnail" data-toggle="modal">
            <img src="/images/2013-01-16-blue_mountain_1.jpg">
        </a>
    </div>
    <div class="box cat1">
                <a href="#myModal" class="thumbnail" data-toggle="modal">
                        <img src="/images/tile_thumb.jpg">
                </a>
        </div>
        <div class="box cat1">
                <a href="#myModal" class="thumbnail" data-toggle="modal">
                        <img src="/images/tile_thumb.jpg">
                </a>
        </div>
<!-- MEXICO PHOTOS -->
    <div class="box cat cat0 cat1 cat2 cat3" id="cat2" onclick='categorize("cat2")'>
        <a class="thumbnail"><img src="/images/tile_thumb.jpg">
                <h3>Mexico</h3>
        </a>
        </div>
    <div class="box cat2">
                <a href="#myModal" class="thumbnail" data-toggle="modal">
                        <img src="/images/tile.jpg">
                </a>
        </div>

<!-- MISC PHOTOS -->
    <div class="box cat cat0 cat1 cat2 cat3" onclick='categorize("cat3")'>
        <a class="thumbnail"><img src="/images/tile_thumb.jpg">
                <h3>Misc</h3></a>
        </div>
        <div class="box cat3">
                <a href="#myModal" class="thumbnail" data-toggle="modal">
                        <img src="/images/beelzebub.png">
                </a>
        </div>
        <div class="box cat3">
                <a href="#myModal" class="thumbnail" data-toggle="modal">
                        <img src="/images/dummy.jpeg">
                </a>
        </div>

{% for gallery in page.galleries %}
<div class="box"> 
    <a href="{{ gallery['gallery'] }}" class="thumbnail" data-toggle="modal">
        <img style="max-height: 250px; max-width: 250px;" src="{{ gallery['gallery'] }}/thumbs/{{ gallery['best_image'] }}">
    </a>
</div>
{% endfor %}

</div>
</div>

<!-- Modal -->
<div id="myModal" class="modal container hide fade" tabindex="-1">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3 id="myModalLabel">A beautiful picture</h3>
  </div>
  <div class="modal-body">
    <img src="/images/tile.jpg" style="height: 600px">
  </div>
</div>

<script>
var $container = $('#isotopeContainer');
$(document).ready(function(){
    $container.isotope({
        filter: '*',
        animationOptions: {
            duration: 750,
            easing: 'linear',
            queue: false,
        }
    });

    jQuery('#a-link').remove();   
    
    jQuery('<img alt="" />').attr('id', 'loader').attr('src', 'ajax-loader.gif').appendTo('#image-container');
    
    //assign your api key equal to a variable
    var apiKey = '25e5ba36d6261886124c90d93ff56304';
    
    //the initial json request to flickr
    //to get your latest public photos, use this request: http://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key=' + apiKey + '&user_id=29096781@N02&per_page=15&page=2&format=json&jsoncallback=?
    $.getJSON('http://api.flickr.com/services/rest/?&method=flickr.photosets.getPhotos&api_key=' + apiKey + '&photoset_id=72157619415192530&format=json&jsoncallback=?',
    function(data){
        
    //loop through the results with the following function
    $.each(data.photoset.photo, function(i,item){
    
        //build the url of the photo in order to link to it
        var photoURL = 'http://farm' + item.farm + '.static.flickr.com/' + item.server + '/' + item.id + '_' + item.secret + '_m.jpg';
        
        //turn the photo id into a variable
        var photoID = item.id;
        
            //use another ajax request to get the geo location data for the image
            $.getJSON('http://api.flickr.com/services/rest/?&method=flickr.photos.geo.getLocation&api_key=' + apiKey + '&photo_id=' + photoID + '&format=json&jsoncallback=?',
            function(data){
                
                //if the image has a location, build an html snippet containing the data
                if(data.stat != 'fail') {
                    pLocation = '<a target="_blank" href="http://www.flickr.com/map?fLat=' + data.photo.location.latitude + '&fLon=' + data.photo.location.longitude + '&zl=1">' + data.photo.location.locality._content + ', ' + data.photo.location.region._content + ' (Click for Map)</a>';
                }
            });
            
            //use another ajax request to get the tags of the image
            $.getJSON('http://api.flickr.com/services/rest/?&method=flickr.photos.getInfo&api_key=' + apiKey + '&photo_id=' + photoID + '&format=json&jsoncallback=?',
            function(data){
                
                //if the image has tags
                if(data.photo.tags.tag != '') {
                    
                    //create an empty array to contain all the tags
                    var tagsArr = new Array();
                    
                    //for each tag, run this function
                    $.each(data.photo.tags.tag, function(j, item){
                    
                        //push each tag into the empty 'tagsArr' created above
                        tagsArr.push('<a href="http://www.flickr.com/photos/tags/' + item._content + '">' + item.raw + '</a>');
                        
                    });
                    
                    //turn the tags array into a string variable
                    var tags = tagsArr.join(', ');
                }
                
            //create an imgCont string variable which will hold all the link location, title, author link, and author name into a text string
            // var imgCont = '<div class="image-container" style="background: url(' + photoURL + ');"><div class="image-info"><p class="top"><a class="title" href="http://www.flickr.com/photos/' + data.photo.owner.nsid + '/' + photoID + '">' + data.photo.title._content + '</a> <span class="author">by <a href="http://flickr.com/photos/' + data.photo.owner.nsid + '">' + data.photo.owner.username + '</a></span></p><div class="bottom"><p><span class="infoTitle">Comments:</span> ' + data.photo.comments._content + '</p>';
            var imgCont = '<div class="box cat1 isotop-item" style="background: url(' + photoURL + ');">
              <div class="image-info">
                <p class="top">
                  <a class="title" href="http://www.flickr.com/photos/' + data.photo.owner.nsid + '/' + photoID + '">' + data.photo.title._content + '</a>
                  <span class="author">by <a href="http://flickr.com/photos/' + data.photo.owner.nsid + '">' + data.photo.owner.username + '</a></span>
                </p>
                <div class="bottom">
                <p><span class="infoTitle">Comments:</span> ' + data.photo.comments._content + '</p>';
            
            //if there are tags associated with the image
            if (typeof(tags) != 'undefined') {
            
                //combine the tags with an html snippet and add them to the end of the 'imgCont' variable
                imgCont += '<p><span class="infoTitle">Tags:</span> ' + tags + '</p>';
            }
            
            //if the image has geo location information associate with it
            if(typeof(pLocation) != 'undefined'){
            
                //combine the geo location data into an html snippet and at that to the end fo the 'imgCont' variable
                imgCont += '<p><span class="infoTitle">Location:</span> ' + pLocation + '</p>';
            }
            
            //add the description & html snippet to the end of the 'imgCont' variable
            imgCont += '<p><span class="infoTitle">Decription:</span> ' + data.photo.description._content + '</p></div></div>';
            
            //append the 'imgCont' variable to the document
            $(imgCont).appendTo('#image-container');
            
            //delete the pLocation global variable so that it does not repeat
            delete pLocation;
        });
    });
});

$container.imagesLoaded(function(){
  var selector = '*';
  $container.isotope({
    filter: selector, 
    animationOptions: {
     duration: 750,
     easing: 'linear',
     queue: false,
 
    }
  });
});

function categorize(selector1){
  var selector = "." + selector1;
  if (selector1 == "*") {
     selector = selector1;
  }
  $container.isotope({
    filter: selector,
    animationOptions: {
     duration: 750,
     easing: 'linear',
     queue: false,

    }
  });
  return false;
}
</script>
